# the_snake

## Правила игры
- Змейка состоит из сегментов.
- Змейка движется в одном из четырёх направлений — вверх, вниз, влево или вправо. Игрок управляет направлением движения, но змейка не может остановиться или двигаться назад.
- Каждый раз, когда змейка съедает яблоко, она увеличивается в длину на один сегмент.
- В классической версии игры столкновение змейки с границей игрового поля приводит к проигрышу. Однако в некоторых вариациях змейка может проходить сквозь одну стену и появляться с противоположной стороны поля. У вас будет именно так.
- Если змейка столкнётся сама с собой — игра заканчивается.

## Общая логика и компоненты игры
Игровое поле — это прямоугольник чёрного цвета размером 640 на 480 точек, разделённый на ячейки.  

Ячейка — это квадрат размером 20 на 20 точек. Таким образом, игровое поле имеет размер 32 ячейки по горизонтали и 24 по вертикали.   

У каждой ячейки есть координаты. Отсчёт координат начинается с левого верхнего угла игрового поля. Самая первая ячейка — это ячейка с координатами 0, 0. Координаты каждой ячейки определяются координатами её верхнего левого угла.  

Змейка и яблоко — это объекты, которые создаются и отрисовываются на игровом поле.  

Яблоко — это просто квадрат размером в одну ячейку игрового поля. При создании яблока координаты для него определяются случайным образом и сохраняются до тех пор, пока змейка не «съест» яблоко. После этого для яблока вновь задаются случайные координаты.  

Змейка изначально состоит из одной головы — из одной ячейки на игровом поле. Змейка постоянно куда-то ползёт и после того, как «съест» яблоко, вырастает на один сегмент. При запуске игры змейка сразу же начинает движение вправо по игровому полю.  

Описать змейку проще всего списком, в котором каждый элемент — это сегмент змейки. Значение элемента списка — это координаты сегмента на игровом поле.  
Координаты удобно представить через кортеж. При размере ячейки 20×20:
- У яблока могут быть координаты, например, (40, 340).
- Змейка, состоящая только из одной головы, может быть представлена списком [(20, 240)]. Если змейка состоит из двух сегментов, она может быть описана списком [(20, 240), (40, 240)].
Отрисовать яблоко на игровом поле — нарисовать квадрат, залитый цветом, размером в одну ячейку по указанным координатам.  
Отрисовать змейку — означает отрисовать столько квадратов, сколько элементов есть в списке с координатами.  

Изменить положение змейки на одну ячейку — означает вставить в начало списка новый элемент с новыми координатами головы и удалить последний элемент списка.

Событие «змейка съела яблоко» — состояние, когда координаты головы змейки совпали с координатами яблока.

Код игры состоит из нескольких основных частей:
1. **Инициализация Pygame и настройка игрового окна**. В начале программы настраиваются основные параметры игры, такие как размеры окна и цвет фона. Создаётся окно игры с заданными размерами, устанавливается заголовок окна.
2. **Классы игровых объектов**:
- GameObject — это базовый класс, от которого наследуются другие игровые объекты. Он содержит общие атрибуты игровых объектов — например, эти атрибуты описывают позицию и цвет объекта. Этот же класс содержит и заготовку метода для отрисовки объекта на игровом поле — draw.
- Snake — класс, унаследованный от GameObject, описывающий змейку и её поведение. Этот класс управляет её движением, отрисовкой, а также обрабатывает действия пользователя.
- Apple — класс, унаследованный от GameObject, описывающий яблоко и действия с ним. Яблоко должно отображаться в случайных клетках игрового поля.
3. **Логика игры**:
- Сначала создаются необходимые объекты.
- В основном цикле игры (в функции main) происходит обновление состояний объектов: змейка обрабатывает нажатия клавиш и двигается в соответствии с выбранным направлением.
- Если змейка съедает яблоко, её размер увеличивается на один сегмент, а яблоко перемещается на новую случайную позицию.
- При столкновении змейки с самой собой игра начинается заново.
4. **Отрисовка объектов**. В каждой итерации цикла змейка меняет своё положение на игровом поле на одну ячейку. По факту это означает, что в списке координат, описывающем змейку, добавляется новый элемент (новая голова в начале списка с новыми координатами) и удаляется последний. Координаты для нового элемента определяются в зависимости от направления движения.<br><br>
После удаления координат хвостового сегмента из списка, описывающего змейку, ячейка, с которой она «уползла», останется закрашена в цвет змейки. После отрисовки змейки по обновлённым координатам следует «затирать её след» — то есть отрисовывать чёрный (по цвету игрового поля) квадрат по координатам удалённого последнего сегмента.
5. **Обновление экрана.** На каждой итерации цикла while программа вычисляет новое состояние игрового поля: определяет координаты каждого сегмента змейки и, при необходимости, координаты яблока, а также проверяет, не столкнулась ли змейка сама с собой. После выполнения всех вычислений вызывается функция pygame.display.update(), которая обновляет игровое поле на экране пользователя. Отображение игрового поля обновляется на каждой итерации цикла.<br><br>
Однако, если программа будет отрисовывать изменения игрового поля с той скоростью, на которую способен компьютер, змейка будет перемещаться по экрану столь быстро, что игрок не сможет ей управлять.<br><br>
Чтобы замедлить «течение событий», в Pygame применяется метод clock.tick(N): он изменяет выполнение кода так, что итерации цикла будут выполняться не чаще чем N раз в секунду. В прекоде метод clock.tick() вызван с аргументом 20, это означает, что положение змейки на экране будет изменяться не более 20 раз в секунду.
Игра продолжается в бесконечном цикле, пока пользователь не закроет окно.








